<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Character encoding and viewport settings -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <!-- Page title and base URL -->
    <title>CineScope</title>
    <base href="/" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="favicon.png" />
    <link rel="manifest" href="manifest.json">

    <!-- Styles: Critical styles first -->
    <link href="css/app.css" rel="stylesheet" />
    <link href="css/loading-animation.css" rel="stylesheet" />

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />

    <!-- MudBlazor Styles -->
    <link href="_content/MudBlazor/MudBlazor.min.css" rel="stylesheet" />

    <!-- Custom CineScope Styles -->
    <link href="css/cinescope.css" rel="stylesheet" />
    <link href="css/poster-cache.css" rel="stylesheet" />

    <!-- reCAPTCHA Script -->
    <script src="https://www.google.com/recaptcha/api.js?render=6LezxwUrAAAAAAc9vWRlGmqOJ99Yn15gF5HZdG5f"></script>

    <!-- Initialize reCAPTCHA v3 -->
    <script>
        window.executeRecaptcha = async function (action) {
            try {
                const token = await grecaptcha.execute('6LezxwUrAAAAAAc9vWRlGmqOJ99Yn15gF5HZdG5f', { action: action });
                console.log('reCAPTCHA token generated');
                return token;
            } catch (error) {
                console.error('reCAPTCHA error:', error);
                return null;
            }
        };
    </script>
</head>

<body>
    <!-- Application Root -->
    <div id="app">
        <!-- Loading Screen -->
        <div class="loading-progress-text">
            <div style="text-align: center; padding-top: 100px;">
                <h1 style="color: #E50914;">CineScope</h1>
                <p>Loading your cinematic experience...</p>
                <div class="mud-progress-circular mud-default-text" role="progressbar" style="height: 40px; width: 40px; margin: 20px auto;">
                    <svg class="mud-progress-circular-svg" viewBox="22 22 44 44">
                        <circle class="mud-progress-circular-circle-indeterminate" cx="44" cy="44" r="20" fill="none" stroke-width="3"></circle>
                    </svg>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/recaptcha.js"></script>
    <script src="_framework/blazor.webassembly.js"></script>
    <script src="_content/MudBlazor/MudBlazor.min.js"></script>
</body>
</html>
